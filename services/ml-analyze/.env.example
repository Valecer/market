# =============================================================================
# ML-Analyze Service Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values for your environment.

# Server Configuration
FASTAPI_HOST=0.0.0.0
FASTAPI_PORT=8001
LOG_LEVEL=INFO
ENVIRONMENT=development

# Database Configuration
DATABASE_URL=postgresql+asyncpg://marketbel_user:dev_password@localhost:5432/marketbel
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=dev_redis_password
REDIS_DB=0

# Ollama Configuration (Local LLM)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
OLLAMA_LLM_MODEL=llama3
EMBEDDING_DIMENSIONS=768

# Cloud LLM Configuration (Optional)
# CLOUD_LLM_PROVIDER=openai
# CLOUD_LLM_API_KEY=sk-...

# Matching Configuration
MATCH_CONFIDENCE_AUTO_THRESHOLD=0.9
MATCH_CONFIDENCE_REVIEW_THRESHOLD=0.7

# Worker Configuration
MAX_WORKERS=5
JOB_TIMEOUT=600
MAX_RETRIES=3

# File Upload Configuration
UPLOADS_DIR=/shared/uploads
MAX_FILE_SIZE_MB=50

# pgvector Configuration
VECTOR_INDEX_LISTS=100

# =============================================================================
# Phase 10: Two-Stage Parsing Configuration
# =============================================================================
# Minimum confidence for Stage A structure analysis (0.0-1.0, default: 0.7)
STRUCTURE_CONFIDENCE_THRESHOLD=0.7
# Number of sample rows for structure analysis (5-100, default: 20)
STRUCTURE_SAMPLE_ROWS=20
